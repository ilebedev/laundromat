<div class="container col-xs-12 text-center streams">
  <h1>Requests</h1>

  <%= link_to new_request_path, class: "btn btn-default btn-success btn-lg" do %>
    <%= icon 'plus-circle' %>
    New Request
  <% end %>

  <hr>

  <table class="table table-striped table-bordered text-left">
    <tr>
    <th>Title</th>
    <th>Category</th>
    <th>Description</th>
    <th>Link</th>
    <th>Votes</th>
    </tr>

    <% @requests.each do |r| %>
      <tr>
        <td><%= r.title %></td>
        <td><%= r.category %></td>
        <td><%= r.description %></td>
        <td><%= r.link %></td>
        <td><%= r.votes %></td>
        <% if user_is_at_least_admin? %>
          <td><%= link_to 'Edit', edit_request_path(r) %></td>
          <td><%= link_to 'Delete', request_path(r),
                  method: :delete,
                  data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
  </table>
</div>
